
<div class="row row-background">
  <div class="col-12" style="padding: 0px;">
      <img *ngIf="Cyber[0]" id="coverForCyber" class="img-fluid cover" src="https://etak-start.s3.eu-west-3.amazonaws.com/media/{{this.Cyber[0].fields.cover}}" alt="Card image cap">
      <a class="btn btn-secondary"  (click)="openDialogChangeCyberCover()" style="position: absolute;top: 20px;left: 10px;color: black;" type="button">Change Cover</a>
  </div>
</div>
  <div class="row row-background">
    <div class="col-12">
      <img *ngIf="Cyber[0]" id="logoForCyber"class="img-fluid cyber-logo" (click)="openDialogChangeCyberProfilePicture()" src="https://etak-start.s3.eu-west-3.amazonaws.com/media/{{this.Cyber[0].fields.logo}}" alt="Card image cap">
      <div class="add-cyber-div">
      <br>
      <br>
      <br>
      <h1 class="create-cyber-header">Edit Cyber</h1>
      <hr class="my-4">
      
      </div>
      <form [formGroup]="cyberForm" id="editCyberForm" enctype="multipart/form-data">
        <div class="form-row">
          <div class="form-group col-12 col-lg-8 d-block mx-auto">
            <mat-form-field appearance="fill" class="form-field-styles">
              <mat-label class="input-white">Cyber Name:</mat-label>
              <input matInput type="text" formControlName="name" class="input-white" required>
            </mat-form-field>
          </div>
        </div>
        <br>
        <div class="form-row">
          <div class="form-group col-12 col-lg-12">
        <br>
        <div id="map"></div>
        <br>
        <br>
      </div>
    </div>
        <div class="form-row d-flex justify-content-center">
          <div class="form-group col-12 col-lg-4">
            <mat-form-field appearance="fill" class="form-field-styles">
              <mat-label class="input-white">Cyber Location:</mat-label>
              <input matInput id="location" type="text" formControlName="location"  class="input-white" required>
            </mat-form-field>
          </div>
          <div class="form-group col-12 col-lg-4">
            <mat-form-field appearance="fill" class="form-field-styles" required>
              <mat-label>Pick a Governate</mat-label>
                <mat-select [(value)]="governate" formControlName="governate" required>
                    <mat-option *ngFor="let governate of governates" [value]="governate.value">
                        {{governate.value}}
                      </mat-option>
                </mat-select>
            </mat-form-field>
          </div>
          
        </div>
        <div class="form-row">
          <div class="form-group col-12 col-lg-12 d-flex justify-content-center">
            <br>
            <button mat-raised-button style="background-color: #fea82f;" id="findBtn" type="button"  class="find-btn" (click)="onClickFind($event)">Find</button>
            <button mat-raised-button style="background-color: #fea82f;" type="button"  class="thats-it-btn" (click)="onClickThatsIt($event)">That's it</button>
            <br>
      </div>
    </div>

        
    <div class="form-row">
      <div class="form-group col-6 col-lg-3">
        <mat-form-field appearance="fill" class="form-field-styles">
          <mat-label class="input-white">Opens at:</mat-label>
          <input matInput type="time" formControlName="starting_working_hour" id="starting_working_hour" class="input-white without_ampm" required>
        </mat-form-field>

      </div>
      <div class="form-group col-6 col-lg-3">
        <mat-form-field appearance="fill" class="form-field-styles">
          <mat-label>AM/PM</mat-label>
            <mat-select [(value)]="opensAtSelect" formControlName="opensAtSelect" required>
                <mat-option value="AM">AM</mat-option>
                <mat-option value="PM">PM</mat-option>
            </mat-select>
        </mat-form-field>
      </div>
      <div class="form-group col-6 col-lg-3">
        <mat-form-field appearance="fill" class="form-field-styles">
          <mat-label class="input-white">Closes at:</mat-label>
          <input matInput  type="time" formControlName="ending_working_hour" id="ending_working_hour" class="input-white without_ampm" required>
        </mat-form-field>
      </div>
      <div class="form-group col-6 col-lg-3">
        <mat-form-field appearance="fill" class="form-field-styles">
          <mat-label>AM/PM</mat-label>
            <mat-select [(value)]="closesAtSelect" formControlName="closesAtSelect" required>
                <mat-option value="AM">AM</mat-option>
                <mat-option value="PM">PM</mat-option>
            </mat-select>
        </mat-form-field>
      </div>
    </div>
        <div class="form-row">
          <div class="form-group col-12">
            <mat-form-field appearance="fill" class="form-field-styles">
              <mat-label class="input-white">Description:</mat-label>
              <textarea matInput type="text" formControlName="description" rows="8"  class="input-white"></textarea>
            </mat-form-field>
          </div>
        </div>
        <br>
        <div class="form-group row">
          <div class="col-12">
              <label class="input-white">Cyber Images:</label>
              <div *ngIf="CyberPictures[0]" id="cyberPicturesDiv">
                <img *ngFor="let cyberPicture of CyberPictures" class="cyber-pics-styling" src="https://etak-start.s3.eu-west-3.amazonaws.com/media/{{cyberPicture.fields.cyber_pics}}" alt="First slide">

              </div>
              <div *ngIf="!CyberPictures[0]" id="cyberPicturesDiv">
                

              </div>
              <br>
              <input id="addPic" (change)="uploadAddedPicture($event)" type="file" style="visibility: hidden;" multiple>
              <a mat-raised-button style="background-color: #fea82f;" class="add-btn-cyber-images" (click)="addCyberPicture($event)">Add</a>
              <input id="cyberImagesId" multiple type="file" (change)="uploadAddedPicture($event)" style="visibility: hidden;">
          </div>
        </div>
        <br>


        <div class="form-group row">
          <div class="col-sm-12">
        <h5 class="cyber-images-lbl">Gallery Photos:</h5>
        <ol id="cyberPicturesOrderedList">
            <li *ngFor="let cyberPictureText of CyberPicturesTextList">{{cyberPictureText}}<a (click)="deleteCyberPicture($event)" class="cyber-pics-a-styling">&#10006;</a></li>
        </ol>
      </div>
    </div>
      
        <div class="form-row">
            <div class="form-group col-12 col-lg-9" style="visibility: hidden;">
              <select name="platformsList" id="platformsList">
                <option value="" disabled selected>Select a platform</option>
                <option value="ps3">Playstation 3</option>
                <option value="ps4">Playstation 4</option>
                <option value="ps5">Playstation 5</option>
                <option value="xbox_360">Xbox 360</option>
                <option value="xbox_one">Xbox One</option>
                <option value="xbox_series_x">Xbox Series X</option>
                <option value="pc">PC</option>
                <option value="vr">VR</option>
              </select>
              
            </div>
                  <div class="form-group col-12 col-lg-3"  style="visibility: hidden;">
                        </div>
                        
                        <h4 class="selected-platforms-style">Pricing:</h4>
                        <br>
                        <div id="platfromListDiv">

                        </div>
      </div>
      <div id="createCyberBtn" class="form-row mr-auto">
        <div class="form-group col-12">
          <button mat-raised-button style="background-color: #fea82f;" type="submit" class="create-btn" (click)="onSubmit()">Save</button>
          <app-loading-widget *ngIf="spinner" [spinner]="spinner" style="position: absolute;right: 10px;top: 10px;"></app-loading-widget> 
          <br>
          <button  *ngIf="userObjEditCyberInfo" (click)="openDialog()" class="btn btn-danger delete-btn" type="submit">Delete Cyber</button>
        </div>
      </div>
        
      </form>
    </div>
  </div>


